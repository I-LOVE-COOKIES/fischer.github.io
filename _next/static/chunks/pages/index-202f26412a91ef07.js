(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(6816)}])},6816:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return j}});var a=l(5893),s=l(7294);let r="ea11e008009ca1777372ddc41d062118";var i={requestPopular:"https://api.themoviedb.org/3/movie/popular?api_key=".concat(r,"&language=en-US&page=1"),requestTopRated:"https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(r,"&language=en-US&page=1"),requestTrending:"https://api.themoviedb.org/3/movie/popular?api_key=".concat(r,"&language=en-US&page=2"),requestHorror:"https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&language=en-US&query=horror&page=1&include_adult=false"),requestUpComing:"https://api.themoviedb.org/3/movie/upcoming?api_key=".concat(r,"&language=en-US&page=1")},o=l(6154),n=e=>{var t;let[l,r]=(0,s.useState)([]),n=l[Math.floor(Math.random()*l.length)];return(0,s.useEffect)(()=>{o.Z.get(i.requestPopular).then(e=>{r(e.data.results)}).catch(e=>console.log(e))},[]),(0,a.jsx)("section",{className:"w-full h-[550px] text-white",children:(0,a.jsxs)("div",{className:"w-full h-full",children:[(0,a.jsx)("div",{className:"absolute w-full h-[550px] bg-gradient-to-r from-black"}),(0,a.jsx)("img",{className:"w-full h-full object-cover",src:"https://image.tmdb.org/t/p/original/".concat(null==n?void 0:n.backdrop_path),alt:null==n?void 0:n.title}),(0,a.jsxs)("div",{className:"absolute top-[20%] w-full p-4 md:p-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold",children:null==n?void 0:n.title}),(0,a.jsxs)("div",{className:"my-4",children:[(0,a.jsx)("button",{className:"border bg-gray-300 text-black border-gray-300 py-2 px-5",children:"Play"}),(0,a.jsx)("button",{className:"border text-white border-gray-300 py-2 px-5 ml-4",children:"Watch Later"})]}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Released: ",null==n?void 0:n.release_date]}),(0,a.jsx)("p",{className:"w-full md:max-w-[70%] lg:max-w-[50%] xl:max-w-[35%] text-gray-200",children:(null==(t=null==n?void 0:n.overview)?void 0:t.length)>170?t.slice(0,170)+"...":t})]})]})})},c=l(1664),d=l.n(c),u=l(9583),h=l(7516),p=l(8506),m=l(1142),x=l(6100),g=e=>{let{item:t}=e,[l,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),{user:n}=(0,p._)(),c=(0,x.JU)(m.db,"users","".concat(null==n?void 0:n.email)),g=async()=>{(null==n?void 0:n.email)?(r(!l),o(!0),await (0,x.r7)(c,{savedShows:(0,x.vr)({id:t.id,title:t.title,img:t.backdrop_path})})):alert("Please log in to save a movie !!")};return(0,a.jsxs)("div",{className:"w-[160px] sm:w-[200px] md:w-[240px] lg:w-[280px] inline-block cursor-pointer relative p-2",children:[(0,a.jsx)("img",{className:"w-full h-auto block",src:"https://image.tmdb.org/t/p/w500/".concat(null==t?void 0:t.backdrop_path),alt:null==t?void 0:t.title}),(0,a.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full hover:bg-black/80 opacity-0 hover:opacity-100 text-white",children:[(0,a.jsx)("p",{className:"white-space-normal text-xs md:text-sm font-bold flex justify-center items-center h-full text-center max-w-full",children:null==t?void 0:t.title}),(0,a.jsx)("p",{onClick:g,children:l?(0,a.jsx)(u.$0H,{className:"absolute top-4 left-4 text-gray-400"}):(0,a.jsx)(u.BgW,{className:"absolute top-4 left-4 text-gray-400"})}),(null==n?void 0:n.email)?(0,a.jsx)(d(),{href:"/movies/".concat(null==t?void 0:t.id),children:(0,a.jsx)(h.WW5,{className:"absolute top-4 right-4 text-gray-400"})}):null]})]})},f=e=>{let{title:t,fetchURL:l}=e,[r,i]=(0,s.useState)([]);return(0,s.useEffect)(()=>{o.Z.get(l).then(e=>{i(e.data.results)}).then(e=>console.log(e))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-white font-bold md:text-xl p-4",children:t}),(0,a.jsx)("div",{className:"relative flex items-center h-48",children:(0,a.jsx)("div",{id:"slider",className:"w-full h-full overflow-x-scroll whitespace-nowrap scroll-smooth scrollbar-hide relative",children:r.map((e,t)=>(0,a.jsx)(g,{item:e},t))})})]})},v=l(9008),b=l.n(v);function j(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b(),{children:(0,a.jsx)("title",{children:"Netflix"})}),(0,a.jsx)(n,{}),(0,a.jsx)(f,{title:"TopRated",fetchURL:i.requestTopRated}),(0,a.jsx)(f,{title:"Up Coming",fetchURL:i.requestUpComing}),(0,a.jsx)(f,{title:"Horror",fetchURL:i.requestHorror}),(0,a.jsx)(f,{title:"Trending",fetchURL:i.requestTrending})]})}}},function(e){e.O(0,[445,874,901,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);